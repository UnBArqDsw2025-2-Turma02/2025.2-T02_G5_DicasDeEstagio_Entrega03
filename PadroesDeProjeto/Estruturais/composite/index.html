
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Site voltado para a documentação do Grupo 5 de Arquitetura e Desenvolvimento de Software - 2025.2" name="description"/>
<link href="../adapter/" rel="prev"/>
<link href="../../Comportamentais/3.3.Iterator/" rel="next"/>
<link href="../../../assets/imgs/outros/entrega1/LogoPrincipalG5.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.11" name="generator"/>
<title>3.2.3. Composite - DicasDeEstagio - G5</title>
<link href="../../../assets/stylesheets/main.4af4bdda.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../assets/css/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="#00A86B" data-md-color-primary="#1A2B45" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#padrao-composite-instituicao">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="DicasDeEstagio - G5" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="DicasDeEstagio - G5">
<img alt="logo" src="../../../assets/imgs/outros/entrega1/LogoPrincipalG5.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            DicasDeEstagio - G5
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              3.2.3. Composite
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Modo escuro" class="md-option" data-md-color-accent="#00A86B" data-md-color-media="" data-md-color-primary="#1A2B45" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Modo escuro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
<input aria-label="Modo claro" class="md-option" data-md-color-accent="#00A86B" data-md-color-media="" data-md-color-primary="#1A2B45" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Modo claro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/UnBArqDsw2025-2-Turma02/2025.2-T02_G5_DicasDeEstagio_Entrega03" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    2025.2-DicasDeEstagio-Entrega03
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="DicasDeEstagio - G5" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="DicasDeEstagio - G5">
<img alt="logo" src="../../../assets/imgs/outros/entrega1/LogoPrincipalG5.png"/>
</a>
    DicasDeEstagio - G5
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/UnBArqDsw2025-2-Turma02/2025.2-T02_G5_DicasDeEstagio_Entrega03" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    2025.2-DicasDeEstagio-Entrega03
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    Início
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    3. Padrões de Projeto
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            3. Padrões de Projeto
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
<span class="md-ellipsis">
    3.1. GOFS Criacionais
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
            3.1. GOFS Criacionais
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Criacionais/3.1.Factory_Method/">
<span class="md-ellipsis">
    3.1.1. Factory Method
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Criacionais/builder/">
<span class="md-ellipsis">
    3.1.2. Builder Method - Avaliação
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Criacionais/builder-curriculo/">
<span class="md-ellipsis">
    3.1.3. Builder Method - Currículo
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-ellipsis">
    3.2. GOFS Estruturais
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            3.2. GOFS Estruturais
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../3.2.Decorator/">
<span class="md-ellipsis">
    3.2.1. Decorator
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../adapter/">
<span class="md-ellipsis">
    3.2.2. Adapter
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    3.2.3. Composite
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    3.2.3. Composite
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-introducao">
<span class="md-ellipsis">
      1. Introdução
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-objetivo">
<span class="md-ellipsis">
      2. Objetivo
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-estrutura-do-padrao">
<span class="md-ellipsis">
      3. Estrutura do Padrão
    </span>
</a>
<nav aria-label="3. Estrutura do Padrão" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#31-diagrama-de-classes">
<span class="md-ellipsis">
      3.1 Diagrama de Classes
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-implementacao-em-django">
<span class="md-ellipsis">
      4. Implementação em Django
    </span>
</a>
<nav aria-label="4. Implementação em Django" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#41-models-modelspy">
<span class="md-ellipsis">
      4.1 Models (models.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-serializers-serializerspy">
<span class="md-ellipsis">
      4.2 Serializers (serializers.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#43-views-viewspy">
<span class="md-ellipsis">
      4.3 Views (views.py)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-exemplo-de-uso">
<span class="md-ellipsis">
      5. Exemplo de Uso
    </span>
</a>
<nav aria-label="5. Exemplo de Uso" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#51-construindo-a-hierarquia">
<span class="md-ellipsis">
      5.1 Construindo a Hierarquia
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#52-requisicoes-api">
<span class="md-ellipsis">
      5.2 Requisições API
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-vantagens-da-implementacao">
<span class="md-ellipsis">
      6. Vantagens da Implementação
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-testes">
<span class="md-ellipsis">
      7. Testes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-referencias">
<span class="md-ellipsis">
      8. Referências
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#historico-de-versoes">
<span class="md-ellipsis">
      Histórico de Versões
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-ellipsis">
    3.3 GOFS Comportamentais
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            3.3 GOFS Comportamentais
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Comportamentais/3.3.Iterator/">
<span class="md-ellipsis">
    3.3.1. Iterator
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Comportamentais/memento/">
<span class="md-ellipsis">
    3.3.2. Memento
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Comportamentais/strategy/">
<span class="md-ellipsis">
    3.3.3. Strategy
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../3.4.ParticipacoesPadroes/">
<span class="md-ellipsis">
    3.4. Participações
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-introducao">
<span class="md-ellipsis">
      1. Introdução
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-objetivo">
<span class="md-ellipsis">
      2. Objetivo
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-estrutura-do-padrao">
<span class="md-ellipsis">
      3. Estrutura do Padrão
    </span>
</a>
<nav aria-label="3. Estrutura do Padrão" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#31-diagrama-de-classes">
<span class="md-ellipsis">
      3.1 Diagrama de Classes
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-implementacao-em-django">
<span class="md-ellipsis">
      4. Implementação em Django
    </span>
</a>
<nav aria-label="4. Implementação em Django" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#41-models-modelspy">
<span class="md-ellipsis">
      4.1 Models (models.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-serializers-serializerspy">
<span class="md-ellipsis">
      4.2 Serializers (serializers.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#43-views-viewspy">
<span class="md-ellipsis">
      4.3 Views (views.py)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-exemplo-de-uso">
<span class="md-ellipsis">
      5. Exemplo de Uso
    </span>
</a>
<nav aria-label="5. Exemplo de Uso" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#51-construindo-a-hierarquia">
<span class="md-ellipsis">
      5.1 Construindo a Hierarquia
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#52-requisicoes-api">
<span class="md-ellipsis">
      5.2 Requisições API
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-vantagens-da-implementacao">
<span class="md-ellipsis">
      6. Vantagens da Implementação
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-testes">
<span class="md-ellipsis">
      7. Testes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-referencias">
<span class="md-ellipsis">
      8. Referências
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#historico-de-versoes">
<span class="md-ellipsis">
      Histórico de Versões
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<div><h1 id="padrao-composite-instituicao">Padrão Composite - Instituição</h1>
<h2 id="1-introducao">1. Introdução</h2>
<p>Este documento descreve a implementação do padrão de projeto <strong>Composite</strong> para representar a estrutura hierárquica de instituições de ensino no sistema DicasDeEstagio. O Composite é um padrão estrutural que permite compor objetos em estruturas de árvore para representar hierarquias parte-todo.</p>
<h2 id="2-objetivo">2. Objetivo</h2>
<p>O padrão Composite foi escolhido para Instituições devido à:</p>
<ul>
<li>
<p><strong>Hierarquia natural</strong>: Instituição → Departamento/Faculdade → Curso</p>
</li>
<li>
<p><strong>Tratamento uniforme</strong>: Operações aplicáveis a toda hierarquia</p>
</li>
<li>
<p><strong>Flexibilidade</strong>: Facilita adicionar novos níveis hierárquicos</p>
</li>
</ul>
<h2 id="3-estrutura-do-padrao">3. Estrutura do Padrão</h2>
<h3 id="31-diagrama-de-classes">3.1 Diagrama de Classes</h3>
<details>
<summary>Diagrama</summary>
<div class="mermaid">
    classDiagram
        class Instituicao {
            +id: int
            +nome: String
            +cnpj: String
            +AreaAtuacao: String
            +__str__() String
        }

        class ComponenteInstitucional {
            &lt;&lt;abstract&gt;&gt;
            +nome: String
            +get_nome() String
            +exibir(nivel: int) String
            +adicionar(componente) void
            +remover(componente) void
            +obter_filhos() List
            +contar_total_elementos() int
        }

        class InstituicaoComposite {
            +instituicao: Instituicao
            +get_nome() String
            +adicionar(componente) void
            +remover(componente) void
            +exibir(nivel: int) String
            +get_estrutura_json() Dict
        }

        class UnidadeComposite {
            +instituicao_composite: InstituicaoComposite
            +pai: UnidadeComposite
            +get_nome() String
            +adicionar(componente) void
            +remover(componente) void
            +exibir(nivel: int) String
            +get_estrutura_json() Dict
        }

        class CursoComposite {
            +unidade_composite: UnidadeComposite
            +get_nome() String
            +exibir(nivel: int) String
            +get_estrutura_json() Dict
        }

        Instituicao "1" -- "1" InstituicaoComposite : representa
        ComponenteInstitucional &lt;|-- InstituicaoComposite
        ComponenteInstitucional &lt;|-- UnidadeComposite
        ComponenteInstitucional &lt;|-- CursoComposite
        InstituicaoComposite "1" *-- "many" UnidadeComposite : contém
        UnidadeComposite "1" *-- "many" CursoComposite : contém
        UnidadeComposite "1" *-- "many" UnidadeComposite : subunidades

</div>
</details>
<h2 id="4-implementacao-em-django">4. Implementação em Django</h2>
<h3 id="41-models-modelspy">4.1 Models (models.py)</h3>
<details>
<summary>Ver código</summary>
<pre><code class="language-python">
from django.db import models


class Instituicao(models.Model):
    nome = models.CharField(max_length=255)
    cnpj = models.CharField(max_length=14)
    AreaAtuacao = models.CharField(max_length=255)

    def __str__(self):
        return self.nome

    class Meta:
        verbose_name = 'Instituição'
        verbose_name_plural = 'Instituições'


class ComponenteInstitucional(models.Model):
    nome = models.CharField(max_length=255)

    class Meta:
        abstract = True

    def get_nome(self):
        return self.nome

    def exibir(self, nivel=0):
        raise NotImplementedError("Método abstrato")

    def adicionar(self, componente):
        raise NotImplementedError("Este componente não pode ter filhos")

    def remover(self, componente):
        raise NotImplementedError("Este componente não pode ter filhos")

    def obter_filhos(self):
        return []

    def contar_total_elementos(self):
        total = 1
        for filho in self.obter_filhos():
            total += filho.contar_total_elementos()
        return total


class InstituicaoComposite(ComponenteInstitucional):
    instituicao = models.OneToOneField(
        Instituicao,
        on_delete=models.CASCADE,
        related_name='composite'
    )

    class Meta:
        verbose_name = 'Instituição (Composite)'
        verbose_name_plural = 'Instituições (Composite)'

    def get_nome(self):
        return self.instituicao.nome

    def adicionar(self, componente):
        if isinstance(componente, UnidadeComposite):
            componente.instituicao_composite = self
            componente.save()
        else:
            raise TypeError("Instituição só pode conter Unidades")

    def remover(self, componente):
        if isinstance(componente, UnidadeComposite):
            componente.instituicao_composite = None
            componente.save()

    def obter_filhos(self):
        return list(self.unidades.filter(pai__isnull=True))

    def exibir(self, nivel=0):
        indentacao = "  " * nivel
        instituicao = self.instituicao
        resultado = f"{indentacao} {instituicao.nome} (CNPJ: {instituicao.cnpj}, Área: {instituicao.AreaAtuacao})\n"

        for unidade in self.obter_filhos():
            resultado += unidade.exibir(nivel + 1)

        return resultado


class UnidadeComposite(ComponenteInstitucional):
    instituicao_composite = models.ForeignKey(
        InstituicaoComposite,
        on_delete=models.CASCADE,
        related_name='unidades',
        null=True,
        blank=True
    )
    pai = models.ForeignKey(
        'self',
        on_delete=models.CASCADE,
        related_name='subunidades',
        null=True,
        blank=True
    )

    class Meta:
        verbose_name = 'Unidade (Composite)'
        verbose_name_plural = 'Unidades (Composite)'

    def adicionar(self, componente):
        if isinstance(componente, CursoComposite):
            componente.unidade_composite = self
            componente.save()
        elif isinstance(componente, UnidadeComposite):
            componente.pai = self
            componente.save()
        else:
            raise TypeError("Unidade só pode conter Cursos ou Subunidades")

    def remover(self, componente):
        if isinstance(componente, CursoComposite):
            componente.unidade_composite = None
            componente.save()
        elif isinstance(componente, UnidadeComposite):
            componente.pai = None
            componente.save()

    def obter_filhos(self):
        cursos = list(self.cursos.all())
        subunidades = list(self.subunidades.all())
        return subunidades + cursos

    def exibir(self, nivel=0):
        indentacao = "  " * nivel
        resultado = f"{indentacao} {self.nome}\n"

        for filho in self.obter_filhos():
            resultado += filho.exibir(nivel + 1)

        return resultado


class CursoComposite(ComponenteInstitucional):
    unidade_composite = models.ForeignKey(
        UnidadeComposite,
        on_delete=models.CASCADE,
        related_name='cursos'
    )

    class Meta:
        verbose_name = 'Curso (Composite)'
        verbose_name_plural = 'Cursos (Composite)'

    def exibir(self, nivel=0):
        indentacao = "  " * nivel
        return f"{indentacao} {self.nome}\n"

    def obter_filhos(self):
        return []
</code></pre>
</details>
<h3 id="42-serializers-serializerspy">4.2 Serializers (serializers.py)</h3>
<details>
<summary>Código</summary>
<pre><code class="language-python">
from rest_framework import serializers
from .models import Instituicao, Unidade, Curso

class CursoSerializer(serializers.ModelSerializer):
    """Serializer para Curso (Leaf)"""

    class Meta:
        model = Curso
        fields = ['id', 'nome', 'unidade']


class UnidadeSerializer(serializers.ModelSerializer):
    """Serializer para Unidade (Composite)"""
    cursos = CursoSerializer(many=True, read_only=True)
    subunidades = serializers.SerializerMethodField()

    class Meta:
        model = Unidade
        fields = ['id', 'nome', 'instituicao', 'pai', 'cursos', 'subunidades']

    def get_subunidades(self, obj):
        """Serializa subunidades recursivamente"""
        subunidades = obj.subunidades.all()
        return UnidadeSerializer(subunidades, many=True).data


class InstituicaoSerializer(serializers.ModelSerializer):
    """Serializer para Instituição (Root Composite)"""
    unidades = UnidadeSerializer(many=True, read_only=True)
    total_elementos = serializers.SerializerMethodField()

    class Meta:
        model = Instituicao
        fields = ['id', 'nome', 'cnpj', 'AreaAtuacao', 'unidades', 'total_elementos']

    def get_total_elementos(self, obj):
        """Conta total de elementos na hierarquia"""
        return obj.contar_total_elementos()


class InstituicaoHierarquiaSerializer(serializers.ModelSerializer):
    """
    Serializer especializado para exibir hierarquia completa.
    Usa o método get_estrutura_json do padrão Composite.
    """
    estrutura = serializers.SerializerMethodField()

    class Meta:
        model = Instituicao
        fields = ['id', 'nome', 'cnpj', 'AreaAtuacao', 'estrutura']

    def get_estrutura(self, obj):
        """Retorna estrutura hierárquica completa"""
        return obj.get_estrutura_json()

</code></pre>
</details>
<h3 id="43-views-viewspy">4.3 Views (views.py)</h3>
<details>
<summary>Código</summary>
<pre><code class="language-python">
from rest_framework import viewsets, status
from rest_framework.decorators import action
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticatedOrReadOnly
from django.db.models import Prefetch
from .models import Instituicao, Unidade, Curso
from .serializers import (
    InstituicaoSerializer,
    InstituicaoHierarquiaSerializer,
    UnidadeSerializer,
    CursoSerializer
)

class InstituicaoViewSet(viewsets.ModelViewSet):
    """
    ViewSet para gerenciar instituições.
    Implementa operações do padrão Composite.
    """
    queryset = Instituicao.objects.all()
    serializer_class = InstituicaoSerializer
    permission_classes = [IsAuthenticatedOrReadOnly]

    def get_queryset(self):
        """Otimiza queries com prefetch"""
        return Instituicao.objects.prefetch_related(
            'unidades',
            'unidades__cursos'
        )

    @action(detail=True, methods=['get'], url_path='hierarquia')
    def hierarquia(self, request, pk=None):
        """
        Retorna estrutura hierárquica completa da instituição.
        """
        instituicao = self.get_object()
        serializer = InstituicaoHierarquiaSerializer(instituicao)
        return Response(serializer.data)

    @action(detail=True, methods=['get'], url_path='exibir')
    def exibir_estrutura(self, request, pk=None):
        """
        Retorna representação textual da hierarquia.
        """
        instituicao = self.get_object()
        estrutura_texto = instituicao.exibir()

        return Response({
            'instituicao': instituicao.nome,
            'estrutura': estrutura_texto
        })

    @action(detail=True, methods=['post'], url_path='adicionar-unidade')
    def adicionar_unidade(self, request, pk=None):
        """
        Adiciona uma unidade à instituição usando método do Composite.
        """
        instituicao = self.get_object()

        serializer = UnidadeSerializer(data=request.data)
        serializer.is_valid(raise_exception=True)

        # Criar unidade
        unidade = Unidade(**serializer.validated_data)

        # Usar método adicionar do Composite
        instituicao.adicionar(unidade)

        return Response(
            UnidadeSerializer(unidade).data,
            status=status.HTTP_201_CREATED
        )


class UnidadeViewSet(viewsets.ModelViewSet):
    """
    ViewSet para gerenciar unidades.
    Suporta operações de composição.
    """
    queryset = Unidade.objects.all()
    serializer_class = UnidadeSerializer
    permission_classes = [IsAuthenticatedOrReadOnly]

    def get_queryset(self):
        """Otimiza queries"""
        return Unidade.objects.prefetch_related(
            'cursos',
            'subunidades'
        ).select_related('instituicao', 'pai')

    @action(detail=True, methods=['post'], url_path='adicionar-curso')
    def adicionar_curso(self, request, pk=None):
        """
        Adiciona um curso à unidade.
        """
        unidade = self.get_object()

        serializer = CursoSerializer(data=request.data)
        serializer.is_valid(raise_exception=True)

        # Criar curso
        curso = Curso(**serializer.validated_data)

        # Usar método adicionar do Composite
        unidade.adicionar(curso)

        return Response(
            CursoSerializer(curso).data,
            status=status.HTTP_201_CREATED
        )

    @action(detail=True, methods=['post'], url_path='adicionar-subunidade')
    def adicionar_subunidade(self, request, pk=None):
        """
        Adiciona uma subunidade.
        """
        unidade_pai = self.get_object()

        serializer = UnidadeSerializer(data=request.data)
        serializer.is_valid(raise_exception=True)

        subunidade = Unidade(**serializer.validated_data)
        unidade_pai.adicionar(subunidade)

        return Response(
            UnidadeSerializer(subunidade).data,
            status=status.HTTP_201_CREATED
        )


class CursoViewSet(viewsets.ModelViewSet):
    """
    ViewSet para gerenciar cursos.
    Cursos são folhas na hierarquia (não têm filhos).
    """
    queryset = Curso.objects.all()
    serializer_class = CursoSerializer
    permission_classes = [IsAuthenticatedOrReadOnly]

    def get_queryset(self):
        """Otimiza queries"""
        return Curso.objects.select_related(
            'unidade',
            'unidade__instituicao'
        )

</code></pre>
</details>
<h2 id="5-exemplo-de-uso">5. Exemplo de Uso</h2>
<h3 id="51-construindo-a-hierarquia">5.1 Construindo a Hierarquia</h3>
<details>
<summary>Hierarquia</summary>
<pre><code class="language-python">from .models import Instituicao, InstituicaoComposite, UnidadeComposite, CursoComposite

unb_original = Instituicao.objects.create(
    nome='Universidade de Brasília',
    cnpj='12345678000195',
    AreaAtuacao='Ensino Superior'
)

unb_composite = InstituicaoComposite.objects.create(
    instituicao=unb_original,
    nome=unb_original.nome 
)


fga = UnidadeComposite.objects.create(
    nome='Faculdade do Gama',
    instituicao_composite=unb_composite
)


unb_composite.adicionar(fga)

eng_soft = CursoComposite.objects.create(
    nome='Engenharia de Software',
    unidade_composite=fga
)


fga.adicionar(eng_soft)


print("=== HIERARQUIA COMPLETA ===")
print(unb_composite.exibir())


print("\n=== INSTITUIÇÃO ORIGINAL ===")
print(f"Nome: {unb_original.nome}")
print(f"CNPJ: {unb_original.cnpj}")
print(f"Área: {unb_original.AreaAtuacao}")


print(f"\n=== ESTATÍSTICAS ===")
print(f"Total de elementos: {unb_composite.contar_total_elementos()}")
</code></pre>
</details>
<h3 id="52-requisicoes-api">5.2 Requisições API</h3>
<details>
<summary>Requisições</summary>
<pre><code class="language-bash"># Listar instituições
    GET /api/instituicoes/

# Ver hierarquia completa
    GET /api/instituicoes/1/hierarquia/

# Exibir estrutura textual
    GET /api/instituicoes/1/exibir/

    # Adicionar departamento
         /api/instituicoes/1/adicionar-departamento/
                "nome": "Faculdade de Tecnologia",
        "codigo": "FT",
    "descricao": "Faculdade de cursos tecnológicos"
    }

    # Adicionar curso a departamento
         /api/departamentos/1/adicionar-curso/
                "nome": "Engenharia de Software",
        "codigo": "ES",
        "nivel": "graduacao",
    "duracao": 10
    }

    # Ver caminho completo do curso
GET /api/cursos/1/caminho-completo/
</code></pre>
</details>
<h2 id="6-vantagens-da-implementacao">6. Vantagens da Implementação</h2>
<ul>
<li><strong>Uniformidade</strong>: Trata objetos individuais e composições de forma uniforme</li>
<li><strong>Recursividade</strong>: Operações funcionam recursivamente na hierarquia</li>
<li><strong>Flexibilidade</strong>: Fácil adicionar novos níveis hierárquicos</li>
<li><strong>Manutenibilidade</strong>: Estrutura clara e organizada</li>
<li>
<p><strong>Navegação</strong>: Facilita navegação na árvore de componentes</p>
<h2 id="7-testes">7. Testes</h2>
</li>
</ul>
<details>
<summary>Código</summary>
<pre><code class="language-python">
from django.test import TestCase
from .models import Instituicao, InstituicaoComposite, UnidadeComposite, CursoComposite

class CompositeTestCase(TestCase):

    def setUp(self):
        # Criar instituição ORIGINAL
        self.instituicao = Instituicao.objects.create(
            nome='Universidade de Brasília',
            cnpj='12345678000195',
            AreaAtuacao='Ensino Superior'
        )

        # Criar composite
        self.composite = InstituicaoComposite.objects.create(
            instituicao=self.instituicao,
            nome='Universidade de Brasília'
        )

        # Criar unidade
        self.unidade = UnidadeComposite.objects.create(
            nome='Faculdade do Gama',
            instituicao_composite=self.composite
        )

        # Criar curso
        self.curso = CursoComposite.objects.create(
            nome='Engenharia de Software',
            unidade_composite=self.unidade
        )

    def test_instituicao_original_intacta(self):
        """Testa que a instituição original não foi modificada"""
        self.assertEqual(self.instituicao.nome, 'Universidade de Brasília')
        self.assertEqual(self.instituicao.cnpj, '12345678000195')
        self.assertEqual(self.instituicao.AreaAtuacao, 'Ensino Superior')

    def test_composite_hierarchy(self):
        """Testa a hierarquia do composite"""
        self.assertEqual(self.composite.instituicao, self.instituicao)
        self.assertEqual(self.unidade.instituicao_composite, self.composite)
        self.assertEqual(self.curso.unidade_composite, self.unidade)

    def test_exibir_hierarquia(self):
        """Testa a exibição da hierarquia"""
        resultado = self.composite.exibir()
        self.assertIn('Universidade de Brasília', resultado)
        self.assertIn('Faculdade do Gama', resultado)
        self.assertIn('Engenharia de Software', resultado)

    def test_contar_elementos(self):
        """Testa a contagem de elementos"""
        total = self.composite.contar_total_elementos()
        self.assertEqual(total, 3)  # Instituição + Unidade + Curso

</code></pre>
</details>
<h2 id="8-referencias">8. Referências</h2>
<ul>
<li>Gamma, E. et al. (1994). Design Patterns: Elements of Reusable Object-Oriented Software</li>
<li>Django Documentation: https://docs.djangoproject.com/</li>
<li>Django REST Framework: https://www.django-rest-framework.org/</li>
</ul>
<hr/>
<h2 id="historico-de-versoes">Histórico de Versões</h2>
<table>
<thead>
<tr>
<th style="text-align: center;">Versão</th>
<th style="text-align: center;">Data</th>
<th style="text-align: left;">Descrição</th>
<th style="text-align: left;">Autor(es)</th>
<th style="text-align: left;">Revisor(es)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1.0</td>
<td style="text-align: center;">24/10/2025</td>
<td style="text-align: left;">Criação do documento</td>
<td style="text-align: left;"><a href="https://github.com/brenoalexandre0">Breno Alexandre</a>, <a href="https://github.com/aqela-batata-alt">Víctor Moreira</a>, <a href="https://github.com/FelipeNunesdM">Felipe Nunes</a></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table></div>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>