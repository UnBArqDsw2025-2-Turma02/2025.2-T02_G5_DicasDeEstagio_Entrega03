
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Site voltado para a documentação do Grupo 5 de Arquitetura e Desenvolvimento de Software - 2025.2" name="description"/>
<link href="../memento/" rel="prev"/>
<link href="../../3.4.ParticipacoesPadroes/" rel="next"/>
<link href="../../../assets/imgs/outros/entrega1/LogoPrincipalG5.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.11" name="generator"/>
<title>3.3.3. Strategy - DicasDeEstagio - G5</title>
<link href="../../../assets/stylesheets/main.4af4bdda.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../assets/css/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="#00A86B" data-md-color-primary="#1A2B45" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#padrao-strategy-curriculo-exportacao">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="DicasDeEstagio - G5" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="DicasDeEstagio - G5">
<img alt="logo" src="../../../assets/imgs/outros/entrega1/LogoPrincipalG5.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            DicasDeEstagio - G5
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              3.3.3. Strategy
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Modo escuro" class="md-option" data-md-color-accent="#00A86B" data-md-color-media="" data-md-color-primary="#1A2B45" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Modo escuro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
<input aria-label="Modo claro" class="md-option" data-md-color-accent="#00A86B" data-md-color-media="" data-md-color-primary="#1A2B45" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Modo claro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/UnBArqDsw2025-2-Turma02/2025.2-T02_G5_DicasDeEstagio_Entrega03" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    2025.2-DicasDeEstagio-Entrega03
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="DicasDeEstagio - G5" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="DicasDeEstagio - G5">
<img alt="logo" src="../../../assets/imgs/outros/entrega1/LogoPrincipalG5.png"/>
</a>
    DicasDeEstagio - G5
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/UnBArqDsw2025-2-Turma02/2025.2-T02_G5_DicasDeEstagio_Entrega03" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    2025.2-DicasDeEstagio-Entrega03
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    Início
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    3. Padrões de Projeto
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            3. Padrões de Projeto
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
<span class="md-ellipsis">
    3.1. GOFS Criacionais
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
            3.1. GOFS Criacionais
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Criacionais/3.1.Factory_Method/">
<span class="md-ellipsis">
    3.1.1. Factory Method
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Criacionais/builder/">
<span class="md-ellipsis">
    3.1.2. Builder Method - Avaliação
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Criacionais/builder-curriculo/">
<span class="md-ellipsis">
    3.1.3. Builder Method - Currículo
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-ellipsis">
    3.2. GOFS Estruturais
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            3.2. GOFS Estruturais
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Estruturais/3.2.Decorator/">
<span class="md-ellipsis">
    3.2.1. Decorator
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Estruturais/adapter/">
<span class="md-ellipsis">
    3.2.2. Adapter
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Estruturais/composite/">
<span class="md-ellipsis">
    3.2.3. Composite
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-ellipsis">
    3.3 GOFS Comportamentais
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            3.3 GOFS Comportamentais
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../3.3.Iterator/">
<span class="md-ellipsis">
    3.3.1. Iterator
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../memento/">
<span class="md-ellipsis">
    3.3.2. Memento
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    3.3.3. Strategy
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    3.3.3. Strategy
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-introducao">
<span class="md-ellipsis">
      1. Introdução
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-objetivo">
<span class="md-ellipsis">
      2. Objetivo
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-estrutura-do-padrao">
<span class="md-ellipsis">
      3. Estrutura do Padrão
    </span>
</a>
<nav aria-label="3. Estrutura do Padrão" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#31-diagrama-de-classes">
<span class="md-ellipsis">
      3.1 Diagrama de Classes
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-implementacao-em-django">
<span class="md-ellipsis">
      4. Implementação em Django
    </span>
</a>
<nav aria-label="4. Implementação em Django" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#41-interface-strategy-exportacaostrategiespy">
<span class="md-ellipsis">
      4.1 Interface Strategy (exportacao/strategies.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-estrategias-concretas-exportacaostrategiespy">
<span class="md-ellipsis">
      4.2 Estratégias Concretas (exportacao/strategies.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#43-gerenciador-de-exportacao-exportacaomanagerpy">
<span class="md-ellipsis">
      4.3 Gerenciador de Exportação (exportacao/manager.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#44-integracao-com-o-modelo-curriculo-modelspy">
<span class="md-ellipsis">
      4.4 Integração com o Modelo Currículo (models.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#45-views-viewspy">
<span class="md-ellipsis">
      4.5 Views (views.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#46-serializers-serializerspy">
<span class="md-ellipsis">
      4.6 Serializers (serializers.py)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-exemplo-de-uso">
<span class="md-ellipsis">
      5. Exemplo de Uso
    </span>
</a>
<nav aria-label="5. Exemplo de Uso" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#51-uso-direto-do-strategy">
<span class="md-ellipsis">
      5.1 Uso Direto do Strategy
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#52-uso-via-modelo">
<span class="md-ellipsis">
      5.2 Uso via Modelo
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#53-requisicoes-api">
<span class="md-ellipsis">
      5.3 Requisições API
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-vantagens-da-implementacao">
<span class="md-ellipsis">
      6. Vantagens da Implementação
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-testes">
<span class="md-ellipsis">
      7. Testes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-referencias">
<span class="md-ellipsis">
      8. Referências
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#historico-de-versoes">
<span class="md-ellipsis">
      Histórico de Versões
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../3.4.ParticipacoesPadroes/">
<span class="md-ellipsis">
    3.4. Participações
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-introducao">
<span class="md-ellipsis">
      1. Introdução
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-objetivo">
<span class="md-ellipsis">
      2. Objetivo
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-estrutura-do-padrao">
<span class="md-ellipsis">
      3. Estrutura do Padrão
    </span>
</a>
<nav aria-label="3. Estrutura do Padrão" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#31-diagrama-de-classes">
<span class="md-ellipsis">
      3.1 Diagrama de Classes
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-implementacao-em-django">
<span class="md-ellipsis">
      4. Implementação em Django
    </span>
</a>
<nav aria-label="4. Implementação em Django" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#41-interface-strategy-exportacaostrategiespy">
<span class="md-ellipsis">
      4.1 Interface Strategy (exportacao/strategies.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-estrategias-concretas-exportacaostrategiespy">
<span class="md-ellipsis">
      4.2 Estratégias Concretas (exportacao/strategies.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#43-gerenciador-de-exportacao-exportacaomanagerpy">
<span class="md-ellipsis">
      4.3 Gerenciador de Exportação (exportacao/manager.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#44-integracao-com-o-modelo-curriculo-modelspy">
<span class="md-ellipsis">
      4.4 Integração com o Modelo Currículo (models.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#45-views-viewspy">
<span class="md-ellipsis">
      4.5 Views (views.py)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#46-serializers-serializerspy">
<span class="md-ellipsis">
      4.6 Serializers (serializers.py)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-exemplo-de-uso">
<span class="md-ellipsis">
      5. Exemplo de Uso
    </span>
</a>
<nav aria-label="5. Exemplo de Uso" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#51-uso-direto-do-strategy">
<span class="md-ellipsis">
      5.1 Uso Direto do Strategy
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#52-uso-via-modelo">
<span class="md-ellipsis">
      5.2 Uso via Modelo
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#53-requisicoes-api">
<span class="md-ellipsis">
      5.3 Requisições API
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-vantagens-da-implementacao">
<span class="md-ellipsis">
      6. Vantagens da Implementação
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-testes">
<span class="md-ellipsis">
      7. Testes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-referencias">
<span class="md-ellipsis">
      8. Referências
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#historico-de-versoes">
<span class="md-ellipsis">
      Histórico de Versões
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<div><h1 id="padrao-strategy-curriculo-exportacao">Padrão Strategy - Currículo (Exportação)</h1>
<h2 id="1-introducao">1. Introdução</h2>
<p>Este documento descreve a implementação do padrão de projeto Strategy para o sistema de exportação de currículos no DicasDeEstagio. O Strategy é um padrão comportamental que permite definir uma família de algoritmos, encapsulá-los e torná-los intercambiáveis.</p>
<h2 id="2-objetivo">2. Objetivo</h2>
<p>O padrão Strategy foi escolhido para a exportação de currículos devido à:</p>
<ul>
<li>Múltiplos formatos: Necessidade de exportar currículos em PDF, JSON, XML, DOCX</li>
<li>Flexibilidade: Adicionar novos formatos sem modificar código existente</li>
<li>Separação de concerns: Isolar a lógica de exportação do modelo de currículo</li>
</ul>
<h2 id="3-estrutura-do-padrao">3. Estrutura do Padrão</h2>
<h3 id="31-diagrama-de-classes">3.1 Diagrama de Classes</h3>
<details>
<summary>Diagrama</summary>
<div class="mermaid">classDiagram

    class ExportacaoStrategy {
        &lt;&lt;interface&gt;&gt;
        +exportar(curriculo: Curriculo)*
        +get_formato()*
    }

    class ExportacaoPDF {
        +exportar(curriculo: Curriculo)
        +get_formato()
        -gerar_cabecalho()
        -gerar_secao_formacao()
        -gerar_secao_habilidades()
    }

    class ExportacaoJSON {
        +exportar(curriculo: Curriculo)
        +get_formato()
    }

    class ExportacaoXML {
        +exportar(curriculo: Curriculo)
        +get_formato()
    }

    class ExportacaoDOCX {
        +exportar(curriculo: Curriculo)
        +get_formato()
    }

    class GerenciadorExportacao {
        -estrategia: ExportacaoStrategy
        +set_estrategia(estrategia: ExportacaoStrategy)
        +exportar(curriculo: Curriculo)
        +listar_formatos_disponiveis()
    }

    class Curriculo {
        +id: int
        +user: User
        +competencias: str
        +formacao: str
        +habilidade: str
        +data_criacao: datetime
        +exportar_curriculo(formato: str)
    }

    ExportacaoStrategy &lt;|.. ExportacaoPDF
    ExportacaoStrategy &lt;|.. ExportacaoJSON
    ExportacaoStrategy &lt;|.. ExportacaoXML
    ExportacaoStrategy &lt;|.. ExportacaoDOCX
    GerenciadorExportacao --&gt; ExportacaoStrategy
    Curriculo --&gt; GerenciadorExportacao
</div>
</details>
<h2 id="4-implementacao-em-django">4. Implementação em Django</h2>
<h3 id="41-interface-strategy-exportacaostrategiespy">4.1 Interface Strategy (exportacao/strategies.py)</h3>
<details>
<summary>Código</summary>
<pre><code class="language-Python">import json
from datetime import datetime
from reportlab.pdfgen import canvas
from reportlab.lib.pagesizes import A4
from reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle
from reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer
from reportlab.lib.units import inch
from django.http import HttpResponse
import xml.etree.ElementTree as ET
from docx import Document
from io import BytesIO
from abc import ABC, abstractmethod
from curriculos.models import Curriculo

class ExportacaoStrategy(ABC):
    """
    Interface Strategy para exportação de currículos.
    Define o contrato que todas as estratégias concretas devem seguir.
    """

    @abstractmethod
    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """
        Exporta o currículo no formato específico.

        Args:
            curriculo: Instância do currículo a ser exportado

        Returns:
            HttpResponse com o arquivo para download
        """
        pass

    @abstractmethod
    def get_formato(self) -&gt; str:
        """
        Retorna o identificador do formato.

        Returns:
            String identificando o formato (ex: 'pdf', 'json')
        """
        pass

    @abstractmethod
    def get_content_type(self) -&gt; str:
        """
        Retorna o content type HTTP.

        Returns:
            String com o content type
        """
        pass

    @abstractmethod
    def get_extensao(self) -&gt; str:
        """
        Retorna a extensão do arquivo.

        Returns:
            String com a extensão (ex: '.pdf', '.json')
        """
        pass

class ExportacaoPDF(ExportacaoStrategy):
    """Estratégia para exportação em formato PDF."""

    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """Gera currículo em formato PDF"""
        response = HttpResponse(content_type='application/pdf')
        filename = f"curriculo_{curriculo.user.name}_{datetime.now().strftime('%Y%m%d')}.pdf"
        response['Content-Disposition'] = f'attachment; filename="{filename}"'

        buffer = BytesIO()
        doc = SimpleDocTemplate(buffer, pagesize=A4)
        styles = getSampleStyleSheet()
        story = []

        # Título
        titulo_style = ParagraphStyle(
            'CustomTitle',
            parent=styles['Heading1'],
            fontSize=16,
            spaceAfter=30,
            alignment=1  # Center
        )
        story.append(Paragraph(f"Currículo - {curriculo.user.name}", titulo_style))
        story.append(Spacer(1, 0.2*inch))

        # Formação
        if curriculo.formacao:
            story.append(Paragraph("Formação Acadêmica", styles['Heading2']))
            story.append(Paragraph(curriculo.formacao, styles['Normal']))
            story.append(Spacer(1, 0.1*inch))

        # Habilidades
        if curriculo.habilidade:
            story.append(Paragraph("Habilidades", styles['Heading2']))
            story.append(Paragraph(curriculo.habilidade, styles['Normal']))
            story.append(Spacer(1, 0.1*inch))

        # Competências
        if curriculo.competencias:
            story.append(Paragraph("Competências", styles['Heading2']))
            story.append(Paragraph(curriculo.competencias, styles['Normal']))

        doc.build(story)
        pdf = buffer.getvalue()
        buffer.close()
        response.write(pdf)

        return response

    def get_formato(self) -&gt; str:
        return 'pdf'

    def get_content_type(self) -&gt; str:
        return 'application/pdf'

    def get_extensao(self) -&gt; str:
        return '.pdf'

class ExportacaoJSON(ExportacaoStrategy):
    """Estratégia para exportação em formato JSON."""

    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """Gera currículo em formato JSON"""
        dados = {
            'curriculo': {
                'id': curriculo.id,
                'usuario': {
                    'nome': curriculo.user.name,
                    'email': curriculo.user.email
                },
                'formacao': curriculo.formacao,
                'habilidades': curriculo.habilidade,
                'competencias': curriculo.competencias
            }
        }

        response = HttpResponse(
            json.dumps(dados, indent=2, ensure_ascii=False),
            content_type='application/json'
        )
        filename = f"curriculo_{curriculo.user.name}_{datetime.now().strftime('%Y%m%d')}.json"
        response['Content-Disposition'] = f'attachment; filename="{filename}"'

        return response

    def get_formato(self) -&gt; str:
        return 'json'

    def get_content_type(self) -&gt; str:
        return 'application/json'

    def get_extensao(self) -&gt; str:
        return '.json'

class ExportacaoXML(ExportacaoStrategy):
    """Estratégia para exportação em formato XML."""

    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """Gera currículo em formato XML"""
        root = ET.Element('curriculo')

        ET.SubElement(root, 'id').text = str(curriculo.id)
        usuario = ET.SubElement(root, 'usuario')
        ET.SubElement(usuario, 'nome').text = curriculo.user.name
        ET.SubElement(usuario, 'email').text = curriculo.user.email

        ET.SubElement(root, 'formacao').text = curriculo.formacao or ''
        ET.SubElement(root, 'habilidades').text = curriculo.habilidade or ''
        ET.SubElement(root, 'competencias').text = curriculo.competencias or ''

        xml_str = ET.tostring(root, encoding='utf-8', method='xml')

        response = HttpResponse(xml_str, content_type='application/xml')
        filename = f"curriculo_{curriculo.user.name}_{datetime.now().strftime('%Y%m%d')}.xml"
        response['Content-Disposition'] = f'attachment; filename="{filename}"'

        return response

    def get_formato(self) -&gt; str:
        return 'xml'

    def get_content_type(self) -&gt; str:
        return 'application/xml'

    def get_extensao(self) -&gt; str:
        return '.xml'

class ExportacaoDOCX(ExportacaoStrategy):
    """Estratégia para exportação em formato DOCX."""

    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """Gera currículo em formato DOCX"""
        document = Document()

        # Título
        title = document.add_heading(f'Currículo - {curriculo.user.name}', 0)

        # Formação
        if curriculo.formacao:
            document.add_heading('Formação Acadêmica', level=1)
            document.add_paragraph(curriculo.formacao)

        # Habilidades
        if curriculo.habilidade:
            document.add_heading('Habilidades', level=1)
            document.add_paragraph(curriculo.habilidade)

        # Competências
        if curriculo.competencias:
            document.add_heading('Competências', level=1)
            document.add_paragraph(curriculo.competencias)

        buffer = BytesIO()
        document.save(buffer)
        buffer.seek(0)

        response = HttpResponse(
            buffer.getvalue(),
            content_type='application/vnd.openxmlformats-officedocument.wordprocessingml.document'
        )
        filename = f"curriculo_{curriculo.user.name}_{datetime.now().strftime('%Y%m%d')}.docx"
        response['Content-Disposition'] = f'attachment; filename="{filename}"'

        return response

    def get_formato(self) -&gt; str:
        return 'docx'

    def get_content_type(self) -&gt; str:
        return 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'

    def get_extensao(self) -&gt; str:
        return '.docx'
</code></pre>
</details>
<h3 id="42-estrategias-concretas-exportacaostrategiespy">4.2 Estratégias Concretas (exportacao/strategies.py)</h3>
<details>
<summary>Código</summary>
<pre><code class="language-Python">import json
from datetime import datetime
from reportlab.pdfgen import canvas
from reportlab.lib.pagesizes import A4
from reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle
from reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer
from reportlab.lib.units import inch
from django.http import HttpResponse
import xml.etree.ElementTree as ET
from docx import Document
from io import BytesIO

class ExportacaoPDF(ExportacaoStrategy):
    """Estratégia para exportação em formato PDF."""

    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """Gera currículo em formato PDF"""
        response = HttpResponse(content_type='application/pdf')
        filename = f"curriculo_{curriculo.user.name}_{datetime.now().strftime('%Y%m%d')}.pdf"
        response['Content-Disposition'] = f'attachment; filename="{filename}"'

        buffer = BytesIO()
        doc = SimpleDocTemplate(buffer, pagesize=A4)
        styles = getSampleStyleSheet()
        story = []

        # Título
        titulo_style = ParagraphStyle(
            'CustomTitle',
            parent=styles['Heading1'],
            fontSize=16,
            spaceAfter=30,
            alignment=1  # Center
        )
        story.append(Paragraph(f"Currículo - {curriculo.user.name}", titulo_style))
        story.append(Spacer(1, 0.2*inch))

        # Formação
        if curriculo.formacao:
            story.append(Paragraph("Formação Acadêmica", styles['Heading2']))
            story.append(Paragraph(curriculo.formacao, styles['Normal']))
            story.append(Spacer(1, 0.1*inch))

        # Habilidades
        if curriculo.habilidade:
            story.append(Paragraph("Habilidades", styles['Heading2']))
            story.append(Paragraph(curriculo.habilidade, styles['Normal']))
            story.append(Spacer(1, 0.1*inch))

        # Competências
        if curriculo.competencias:
            story.append(Paragraph("Competências", styles['Heading2']))
            story.append(Paragraph(curriculo.competencias, styles['Normal']))

        doc.build(story)
        pdf = buffer.getvalue()
        buffer.close()
        response.write(pdf)

        return response

    def get_formato(self) -&gt; str:
        return 'pdf'

    def get_content_type(self) -&gt; str:
        return 'application/pdf'

    def get_extensao(self) -&gt; str:
        return '.pdf'


class ExportacaoJSON(ExportacaoStrategy):
    """Estratégia para exportação em formato JSON."""

    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """Gera currículo em formato JSON"""
        dados = {
            'curriculo': {
                'id': curriculo.id,
                'usuario': {
                    'nome': curriculo.user.name,
                    'email': curriculo.user.email
                },
                'formacao': curriculo.formacao,
                'habilidades': curriculo.habilidade,
                'competencias': curriculo.competencias,
                'data_criacao': curriculo.data_criacao.isoformat(),
                'data_atualizacao': curriculo.data_atualizacao.isoformat()
            }
        }

        response = HttpResponse(
            json.dumps(dados, indent=2, ensure_ascii=False),
            content_type='application/json'
        )
        filename = f"curriculo_{curriculo.user.name}_{datetime.now().strftime('%Y%m%d')}.json"
        response['Content-Disposition'] = f'attachment; filename="{filename}"'

        return response

    def get_formato(self) -&gt; str:
        return 'json'

    def get_content_type(self) -&gt; str:
        return 'application/json'

    def get_extensao(self) -&gt; str:
        return '.json'


class ExportacaoXML(ExportacaoStrategy):
    """Estratégia para exportação em formato XML."""

    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """Gera currículo em formato XML"""
        root = ET.Element('curriculo')

        ET.SubElement(root, 'id').text = str(curriculo.id)
        usuario = ET.SubElement(root, 'usuario')
        ET.SubElement(usuario, 'nome').text = curriculo.user.name
        ET.SubElement(usuario, 'email').text = curriculo.user.email

        ET.SubElement(root, 'formacao').text = curriculo.formacao or ''
        ET.SubElement(root, 'habilidades').text = curriculo.habilidade or ''
        ET.SubElement(root, 'competencias').text = curriculo.competencias or ''
        ET.SubElement(root, 'data_criacao').text = curriculo.data_criacao.isoformat()
        ET.SubElement(root, 'data_atualizacao').text = curriculo.data_atualizacao.isoformat()

        xml_str = ET.tostring(root, encoding='utf-8', method='xml')

        response = HttpResponse(xml_str, content_type='application/xml')
        filename = f"curriculo_{curriculo.user.name}_{datetime.now().strftime('%Y%m%d')}.xml"
        response['Content-Disposition'] = f'attachment; filename="{filename}"'

        return response

    def get_formato(self) -&gt; str:
        return 'xml'

    def get_content_type(self) -&gt; str:
        return 'application/xml'

    def get_extensao(self) -&gt; str:
        return '.xml'


class ExportacaoDOCX(ExportacaoStrategy):
    """Estratégia para exportação em formato DOCX."""

    def exportar(self, curriculo: Curriculo) -&gt; HttpResponse:
        """Gera currículo em formato DOCX"""
        document = Document()

        # Título
        title = document.add_heading(f'Currículo - {curriculo.user.name}', 0)

        # Formação
        if curriculo.formacao:
            document.add_heading('Formação Acadêmica', level=1)
            document.add_paragraph(curriculo.formacao)

        # Habilidades
        if curriculo.habilidade:
            document.add_heading('Habilidades', level=1)
            document.add_paragraph(curriculo.habilidade)

        # Competências
        if curriculo.competencias:
            document.add_heading('Competências', level=1)
            document.add_paragraph(curriculo.competencias)

        buffer = BytesIO()
        document.save(buffer)
        buffer.seek(0)

        response = HttpResponse(
            buffer.getvalue(),
            content_type='application/vnd.openxmlformats-officedocument.wordprocessingml.document'
        )
        filename = f"curriculo_{curriculo.user.name}_{datetime.now().strftime('%Y%m%d')}.docx"
        response['Content-Disposition'] = f'attachment; filename="{filename}"'

        return response

    def get_formato(self) -&gt; str:
        return 'docx'

    def get_content_type(self) -&gt; str:
        return 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'

    def get_extensao(self) -&gt; str:
        return '.docx'
</code></pre>
</details>
<h3 id="43-gerenciador-de-exportacao-exportacaomanagerpy">4.3 Gerenciador de Exportação (exportacao/manager.py)</h3>
<details>
<summary>Código</summary>
<pre><code class="language-Python">from typing import Dict, List
from django.http import HttpResponse
from .strategies import ExportacaoStrategy, ExportacaoPDF, ExportacaoJSON, ExportacaoXML, ExportacaoDOCX
from curriculos.models import Curriculo

class GerenciadorExportacao:
    """
    Gerenciador que orquestra as estratégias de exportação.
    Implementa o padrão Strategy para troca dinâmica de algoritmos.
    """

    def __init__(self):
        self._estrategias: Dict[str, ExportacaoStrategy] = {}
        self._registrar_estrategias_padrao()

    def _registrar_estrategias_padrao(self):
        """Registra as estratégias de exportação disponíveis"""
        self.registrar_estrategia(ExportacaoPDF())
        self.registrar_estrategia(ExportacaoJSON())
        self.registrar_estrategia(ExportacaoXML())
        self.registrar_estrategia(ExportacaoDOCX())

    def registrar_estrategia(self, estrategia: ExportacaoStrategy):
        """
        Registra uma nova estratégia de exportação.

        Args:
            estrategia: Instância da estratégia a ser registrada
        """
        self._estrategias[estrategia.get_formato()] = estrategia

    def obter_estrategia(self, formato: str) -&gt; ExportacaoStrategy:
        """
        Obtém uma estratégia pelo formato.

        Args:
            formato: Identificador do formato ('pdf', 'json', etc.)

        Returns:
            Instância da estratégia

        Raises:
            ValueError: Se o formato não for suportado
        """
        if formato not in self._estrategias:
            raise ValueError(f"Formato '{formato}' não é suportado")

        return self._estrategias[formato]

    def exportar(self, curriculo: Curriculo, formato: str) -&gt; HttpResponse:
        """
        Exporta um currículo usando o formato especificado.

        Args:
            curriculo: Currículo a ser exportado
            formato: Formato de exportação

        Returns:
            HttpResponse com o arquivo para download
        """
        estrategia = self.obter_estrategia(formato)
        return estrategia.exportar(curriculo)

    def listar_formatos_disponiveis(self) -&gt; List[Dict[str, str]]:
        """
        Lista todos os formatos de exportação disponíveis.

        Returns:
            Lista de dicionários com informações dos formatos
        """
        return [
            {
                'formato': estrategia.get_formato(),
                'content_type': estrategia.get_content_type(),
                'extensao': estrategia.get_extensao()
            }
            for estrategia in self._estrategias.values()
        ]

    def is_formato_suportado(self, formato: str) -&gt; bool:
        """
        Verifica se um formato é suportado.

        Args:
            formato: Formato a verificar

        Returns:
            True se o formato é suportado, False caso contrário
        """
        return formato in self._estrategias
</code></pre>
</details>
<h3 id="44-integracao-com-o-modelo-curriculo-modelspy">4.4 Integração com o Modelo Currículo (models.py)</h3>
<details>
<summary>Código</summary>
<pre><code class="language-Python">from django.db import models
from users.models import User
from exportacao.manager import GerenciadorExportacao

class Curriculo(models.Model):
    competencias = models.TextField()
    arquivo = models.FileField(upload_to='curriculos/')
    formacao = models.TextField()
    habilidade = models.TextField()
    user = models.ForeignKey('users.User', on_delete=models.CASCADE)

    def __str__(self):
        return f'Currículo de {self.user.email}'

    def exportar_curriculo(self, formato: str = 'pdf'):
        """
        Exporta o currículo no formato especificado.
        Usa o padrão Strategy para delegar a exportação.

        Args:
            formato: Formato de exportação ('pdf', 'json', 'xml', 'docx')

        Returns:
            HttpResponse com o arquivo para download

        Raises:
            ValueError: Se o formato não for suportado
        """
        gerenciador = GerenciadorExportacao()
        return gerenciador.exportar(self, formato)

    def get_formatos_exportacao_disponiveis(self):
        """
        Retorna lista de formatos de exportação disponíveis.

        Returns:
            Lista de formatos suportados
        """
        gerenciador = GerenciadorExportacao()
        return gerenciador.listar_formatos_disponiveis()
</code></pre>
</details>
<h3 id="45-views-viewspy">4.5 Views (views.py)</h3>
<details>
<summary>Código</summary>
<pre><code class="language-Python">from rest_framework import viewsets, status
from rest_framework.decorators import action
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated
from django.http import HttpResponse
from .models import Curriculo
from .serializers import CurriculoSerializer
from exportacao.manager import GerenciadorExportacao

class CurriculoViewSet(viewsets.ModelViewSet):
    """
    ViewSet para gerenciar currículos.
    Implementa endpoints para exportação usando Strategy Pattern.
    """
    queryset = Curriculo.objects.all()
    serializer_class = CurriculoSerializer
    permission_classes = [IsAuthenticated]

    def get_queryset(self):
        return Curriculo.objects.filter(user=self.request.user)

    @action(detail=True, methods=['get'], url_path='exportar')
    def exportar_curriculo(self, request, pk=None):
        """
        Exporta currículo em diferentes formatos usando Strategy Pattern.

        GET /api/curriculos/{id}/exportar/?formato=pdf

        Parâmetros:
            formato: pdf, json, xml, docx (padrão: pdf)
        """
        curriculo = self.get_object()
        formato = request.query_params.get('formato', 'pdf').lower()

        gerenciador = GerenciadorExportacao()

        if not gerenciador.is_formato_suportado(formato):
            return Response(
                {
                    'error': f'Formato {formato} não suportado',
                    'formatos_disponiveis': [fmt['formato'] for fmt in gerenciador.listar_formatos_disponiveis()]
                },
                status=status.HTTP_400_BAD_REQUEST
            )

        try:
            response = gerenciador.exportar(curriculo, formato)
            return response
        except Exception as e:
            return Response(
                {'error': f'Erro na exportação: {str(e)}'},
                status=status.HTTP_500_INTERNAL_SERVER_ERROR
            )

    @action(detail=False, methods=['get'], url_path='formatos-exportacao')
    def listar_formatos_exportacao(self, request):
        """
        Lista formatos de exportação disponíveis.

        GET /api/curriculos/formatos-exportacao/
        """
        gerenciador = GerenciadorExportacao()
        formatos = gerenciador.listar_formatos_disponiveis()

        return Response({
            'formatos_disponiveis': formatos,
            'total_formatos': len(formatos)
        })

    @action(detail=True, methods=['post'], url_path='exportar-multiplos')
    def exportar_multiplos_formatos(self, request, pk=None):
        """
        Exporta currículo em múltiplos formatos de uma vez.

        POST /api/curriculos/{id}/exportar-multiplos/
        Body: {
            "formatos": ["pdf", "json", "docx"]
        }
        """
        curriculo = self.get_object()
        formatos = request.data.get('formatos', ['pdf'])

        if not isinstance(formatos, list):
            return Response(
                {'error': 'O parâmetro "formatos" deve ser uma lista'},
                status=status.HTTP_400_BAD_REQUEST
            )

        gerenciador = GerenciadorExportacao()

        # Verificar se todos os formatos são suportados
        formatos_nao_suportados = [
            fmt for fmt in formatos 
            if not gerenciador.is_formato_suportado(fmt)
        ]

        if formatos_nao_suportados:
            return Response(
                {
                    'error': f'Formatos não suportados: {", ".join(formatos_nao_suportados)}',
                    'formatos_disponiveis': [fmt['formato'] for fmt in gerenciador.listar_formatos_disponiveis()]
                },
                status=status.HTTP_400_BAD_REQUEST
            )

        # Em produção, isso poderia ser processado assincronamente
        # e enviado por email, por exemplo
        resultados = []
        for formato in formatos:
            try:
                response = gerenciador.exportar(curriculo, formato)
                # Em um cenário real, salvaríamos os arquivos e retornaríamos links
                resultados.append({
                    'formato': formato,
                    'status': 'sucesso',
                    'content_type': response['Content-Type']
                })
            except Exception as e:
                resultados.append({
                    'formato': formato,
                    'status': 'erro',
                    'error': str(e)
                })

        return Response({
            'curriculo_id': curriculo.id,
            'resultados': resultados
        })
</code></pre>
</details>
<h3 id="46-serializers-serializerspy">4.6 Serializers (serializers.py)</h3>
<details>
<summary>Código</summary>
<pre><code class="language-Python">from rest_framework import serializers
from .models import Curriculo

class CurriculoExportacaoSerializer(serializers.Serializer):
    """
    Serializer para parâmetros de exportação.
    """
    formato = serializers.ChoiceField(
        choices=['pdf', 'json', 'xml', 'docx'],
        default='pdf'
    )

    class Meta:
        fields = ['formato']

class CurriculoMultiploExportacaoSerializer(serializers.Serializer):
    """
    Serializer para exportação em múltiplos formatos.
    """
    formatos = serializers.ListField(
        child=serializers.ChoiceField(choices=['pdf', 'json', 'xml', 'docx']),
        min_length=1,
        max_length=4
    )

    class Meta:
        fields = ['formatos']
</code></pre>
</details>
<h2 id="5-exemplo-de-uso">5. Exemplo de Uso</h2>
<h3 id="51-uso-direto-do-strategy">5.1 Uso Direto do Strategy</h3>
<details>
<summary>Código</summary>
<pre><code class="language-Python">from exportacao.manager import GerenciadorExportacao
from curriculos.models import Curriculo

# Exportar currículo em PDF
curriculo = Curriculo.objects.get(id=1)
gerenciador = GerenciadorExportacao()

# Exportar em PDF
response_pdf = gerenciador.exportar(curriculo, 'pdf')

# Exportar em JSON
response_json = gerenciador.exportar(curriculo, 'json')

# Listar formatos disponíveis
formatos = gerenciador.listar_formatos_disponiveis()
</code></pre>
</details>
<h3 id="52-uso-via-modelo">5.2 Uso via Modelo</h3>
<details>
<summary>Código</summary>
<pre><code class="language-Python">from curriculos.models import Curriculo

curriculo = Curriculo.objects.get(id=1)

# Exportar usando método do modelo
response = curriculo.exportar_curriculo('pdf')

# Ver formatos disponíveis
formatos = curriculo.get_formatos_exportacao_disponiveis()
</code></pre>
</details>
<h3 id="53-requisicoes-api">5.3 Requisições API</h3>
<details>
<summary>Terminal</summary>
<pre><code class="language-bash"># Exportar currículo em PDF
GET /api/curriculos/1/exportar/?formato=pdf

# Exportar currículo em JSON
GET /api/curriculos/1/exportar/?formato=json

# Listar formatos disponíveis
GET /api/curriculos/formatos-exportacao/

# Exportar em múltiplos formatos
POST /api/curriculos/1/exportar-multiplos/
Content-Type: application/json

{
    "formatos": ["pdf", "json", "docx"]
}
</code></pre>
</details>
<h2 id="6-vantagens-da-implementacao">6. Vantagens da Implementação</h2>
<ul>
<li>Extensibilidade: Fácil adicionar novos formatos de exportação</li>
<li>Manutenibilidade: Cada estratégia é isolada e independente</li>
<li>Testabilidade: Estratégias podem ser testadas individualmente</li>
<li>Flexibilidade: Troca dinâmica de algoritmos em tempo de execução</li>
<li>Reusabilidade: Estratégias podem ser reutilizadas em outros contextos</li>
</ul>
<h2 id="7-testes">7. Testes</h2>
<details>
<summary>Código de testes</summary>
<pre><code class="language-Python">from django.test import TestCase
from django.contrib.auth import get_user_model
from django.core.files.uploadedfile import SimpleUploadedFile
from curriculos.models import Curriculo
from exportacao.manager import GerenciadorExportacao
from exportacao.strategies import ExportacaoJSON

User = get_user_model()

class StrategyExportacaoTestCase(TestCase):

    def setUp(self):
        self.user = User.objects.create_user(
            email='teste@example.com',
            name='Teste User',
            password='senha123'
        )

        # Criar um arquivo simulado para o campo 'arquivo'
        arquivo_simulado = SimpleUploadedFile(
            "curriculo_teste.pdf",
            b"conteudo simulado do arquivo",
            content_type="application/pdf"
        )

        self.curriculo = Curriculo.objects.create(
            user=self.user,
            formacao='Engenharia de Software - UnB',
            habilidade='Python, Django, React',
            competencias='Trabalho em equipe, Comunicação',
            arquivo=arquivo_simulado
        )

        self.gerenciador = GerenciadorExportacao()

    def test_exportacao_pdf(self):
        """Testa exportação em PDF"""
        response = self.gerenciador.exportar(self.curriculo, 'pdf')
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response['Content-Type'], 'application/pdf')
        self.assertIn('attachment', response['Content-Disposition'])

    def test_exportacao_json(self):
        """Testa exportação em JSON"""
        response = self.gerenciador.exportar(self.curriculo, 'json')
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response['Content-Type'], 'application/json')
        self.assertIn('attachment', response['Content-Disposition'])

        # Verificar se o conteúdo JSON contém os dados esperados
        import json
        content = json.loads(response.content.decode('utf-8'))
        self.assertEqual(content['curriculo']['usuario']['nome'], 'Teste User')
        self.assertEqual(content['curriculo']['formacao'], 'Engenharia de Software - UnB')

    def test_exportacao_xml(self):
        """Testa exportação em XML"""
        response = self.gerenciador.exportar(self.curriculo, 'xml')
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response['Content-Type'], 'application/xml')
        self.assertIn('attachment', response['Content-Disposition'])

    def test_exportacao_docx(self):
        """Testa exportação em DOCX"""
        response = self.gerenciador.exportar(self.curriculo, 'docx')
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response['Content-Type'], 'application/vnd.openxmlformats-officedocument.wordprocessingml.document')
        self.assertIn('attachment', response['Content-Disposition'])

    def test_formato_nao_suportado(self):
        """Testa comportamento com formato não suportado"""
        with self.assertRaises(ValueError):
            self.gerenciador.exportar(self.curriculo, 'formato_invalido')

    def test_listar_formatos(self):
        """Testa listagem de formatos disponíveis"""
        formatos = self.gerenciador.listar_formatos_disponiveis()
        self.assertGreater(len(formatos), 0)

        formatos_nomes = [fmt['formato'] for fmt in formatos]
        self.assertIn('pdf', formatos_nomes)
        self.assertIn('json', formatos_nomes)
        self.assertIn('xml', formatos_nomes)
        self.assertIn('docx', formatos_nomes)

    def test_registrar_nova_estrategia(self):
        """Testa registro de nova estratégia"""
        class NovaEstrategia(ExportacaoJSON):
            def get_formato(self):
                return 'novo_formato'

        nova_estrategia = NovaEstrategia()
        self.gerenciador.registrar_estrategia(nova_estrategia)

        self.assertTrue(self.gerenciador.is_formato_suportado('novo_formato'))

    def test_exportacao_via_modelo(self):
        """Testa exportação usando método do modelo Curriculo"""
        response = self.curriculo.exportar_curriculo('pdf')
        self.assertEqual(response.status_code, 200)
        self.assertEqual(response['Content-Type'], 'application/pdf')

    def test_listar_formatos_via_modelo(self):
        """Testa listagem de formatos usando método do modelo Curriculo"""
        formatos = self.curriculo.get_formatos_exportacao_disponiveis()
        self.assertIsInstance(formatos, list)
        self.assertGreater(len(formatos), 0)

    def test_curriculo_str_representation(self):
        """Testa representação em string do modelo Curriculo"""
        self.assertEqual(str(self.curriculo), f'Currículo de {self.user.email}')
</code></pre>
</details>
<h2 id="8-referencias">8. Referências</h2>
<blockquote>
<ol>
<li>
<p>Gamma, E. et al. (1994). Design Patterns: Elements of Reusable Object-Oriented Software</p>
</li>
<li>
<p>Django Documentation: https://docs.djangoproject.com/</p>
</li>
<li>
<p>Django REST Framework: https://www.django-rest-framework.org/</p>
</li>
<li>
<p>ReportLab (PDF generation): https://www.reportlab.com/</p>
</li>
<li>
<p>python-docx (DOCX generation): https://python-docx.readthedocs.io/</p>
</li>
</ol>
</blockquote>
<h2 id="historico-de-versoes">Histórico de Versões</h2>
<table>
<thead>
<tr>
<th style="text-align: center;">Versão</th>
<th style="text-align: center;">Data</th>
<th style="text-align: left;">Descrição</th>
<th style="text-align: left;">Autor(es)</th>
<th style="text-align: left;">Revisor(es)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1.0</td>
<td style="text-align: center;">24/10/2025</td>
<td style="text-align: left;">Criação do documento</td>
<td style="text-align: left;"><a href="https://github.com/brenoalexandre0">Breno Alexandre</a>, <a href="https://github.com/aqela-batata-alt">Víctor Moreira</a>, <a href="https://github.com/FelipeNunesdM">Felipe Nunes</a></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table></div>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>